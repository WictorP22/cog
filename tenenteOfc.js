 function formulario(){let erro; $("#ten :input").each( function(index){if($(this).val()==""){$(this).addClass('border border-danger'); erro=true;}else{$(this).removeClass('border border-danger');}}); $("textarea").each( function(index){if($(this).val()==""){$(this).addClass('border border-danger'); erro=true;}else{$(this).removeClass('border border-danger');}}); $("select").each( function(index){if($(this).val()==""){$(this).addClass('border border-danger'); erro=true;}else{$(this).removeClass('border border-danger');}}); if($("#turn :checkbox:checked").length==0){$(".invisible").removeClass('invisible'); erro=true;}if(erro==true){return false;}}function pegaDados(form){let nick=$("#nickname").val(); let patent=$("#patente").val(); let turno=""; let turnos=$(form+" :checkbox:checked").each(function(){if(turno.length==0){turno=$(this).val();}else{turno=turno+", "+$(this).val();}}); let policiais=[]; $("input[name='nick[]']").each(function(numn){policiais[numn]=[]; policiais[numn]=Object.assign({}, policiais[numn]); policiais[numn]["nome"]=$(this).val();}); $("textarea[name='opiniao[]']").each(function(numo){policiais[numo]["opiniao"]=$(this).val();}); $("input[name='grupos[]']").each(function(numg){policiais[numg]["grupos"]=$(this).val();}); $("input[name='desempenho[]']").each(function(numd){policiais[numd]["desempenho"]=$(this).val();}); $("input[name='rigpul[]']").each(function(numr){policiais[numr]["rigpul"]=$(this).val();}); $("select[name='veredito[]']").each(function(numv){policiais[numv]["veredito"]=$(this).val();}); policiais=Object.assign({}, policiais); var resposta={nickname: nick, patente: patent, turnos: turno, policiais}return resposta;}function validar(objeto){var nick=$("#nick"+objeto).val(); var opniao=$("#opiniao"+objeto).val(); var grupos=$("#rgrupos"+objeto).val(); var desempenho=$("#rdesempenho"+objeto).val(); var rrigpul=$("#rrigpul"+objeto).val(); var veredito=$("#veredito"+objeto).val(); if(nick !="" && opniao !="" && grupos !="" && desempenho !="" && rrigpul !="" && veredito !=""){$(".tab"+objeto).addClass("text-success"); $(".tab"+objeto).removeClass("text-danger");}else{$(".tab"+objeto).removeClass("text-success"); $(".tab"+objeto).addClass("text-danger");}}function attR(val, id){$("#r"+id).prop("value", val);}function change(val, id){var teste=$("#"+id).data("ionRangeSlider"); var skin; if (val=='Ruim' || val=='Não é rígido e não tem pulso firme'){skin='vermelho';}if (val=='Razoável' || val=='Tem pulso firme, mas não é rígido' || val=='É rígido, mas não tem pulso firme'){skin='amarelo';}if (val=='Bom'){skin='verde';}if (val=='Excelente' || val=='É rígido e tem pulso firme, mas pode melhorar' || val=='É rígido e tem pulso firme'){skin='verde';}if (val=='Não faço parte do turno'){skin='cinza';}if (val=='Sem grupos em comum'){skin='cinza';}teste.update({skin: skin}); $("#r"+id).prop("value", val);}
